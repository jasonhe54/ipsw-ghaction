<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>Queries</key>
	<array>
		<string>CREATE TABLE IF NOT EXISTS APDBTrigger (rowid INTEGER PRIMARY KEY, experimentId TEXT NOT NULL, treatmentId TEXT NOT NULL, UNIQUE(experimentId, treatmentId) ON CONFLICT IGNORE)</string>
		<string>CREATE TABLE IF NOT EXISTS APDBAdSignalTrack (rowid INTEGER PRIMARY KEY, handle TEXT NOT NULL, adFormatType INTEGER DEFAULT NULL, slot INTEGER DEFAULT NULL, opportunity INTEGER DEFAULT 0, impression INTEGER DEFAULT 0, click INTEGER DEFAULT 0, conversion INTEGER DEFAULT 0, updateTimestamp REAL NOT NULL)</string>
		<string>CREATE INDEX idx_AdSignalTrack_handle ON APDBAdSignalTrack (handle)</string>
		<string>CREATE TABLE IF NOT EXISTS APDBTriggerSignal (triggerRowId INTEGER NOT NULL, signalRowId INTEGER NOT NULL, FOREIGN KEY (triggerRowId) REFERENCES APDBTrigger(rowid), FOREIGN KEY (signalRowId) REFERENCES APDBAdSignalTrack(rowid))</string>
		<string>CREATE TABLE IF NOT EXISTS APDBExperimentationReport (rowid INTEGER PRIMARY KEY, triggerRowId INTERGER NOT NULL, adFormatType INTEGER NOT NULL, slot INTEGER DEFAULT NULL, day INTEGER NOT NULL, opportunityCount INTEGER DEFAULT 0, impressionCount INTEGER DEFAULT 0, clickCount INTEGER DEFAULT 0, conversionCount INTEGER DEFAULT 0, FOREIGN KEY (triggerRowId) REFERENCES APDBTrigger(rowid) ON DELETE CASCADE)</string>
		<string>CREATE INDEX idx_ExperimentationReport_AdFormat_day ON APDBExperimentationReport (adFormatType, day)</string>
	</array>
</dict>
</plist>
