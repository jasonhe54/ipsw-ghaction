<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>GENERIC_ACCEPT</key>
	<string>SUBQUERY(extensionItems, $extensionItem, SUBQUERY($extensionItem.attachments, $attachment, ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO $TYPE).@count &lt;= $SPECIFIED_COUNT).@count == 1</string>
	<key>GENERIC_ENFORCE_ALL_TYPES</key>
	<string>SUBQUERY(extensionItems, $extensionItem,
         SUBQUERY($extensionItem.attachments, $attachment,
                  (SUBQUERY($TYPES, $type,
                   ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO $type).@count &gt; 0)).@count == $extensionItem.attachments.@count).@count == 1</string>
	<key>GENERIC_ENFORCE_ALL_TYPES_WITH_EXCEPTIONS</key>
	<string>SUBQUERY(extensionItems, $extensionItem,
         SUBQUERY($extensionItem.attachments, $attachment,
         SUBQUERY($attachment.registeredTypeIdentifiers, $registeredType,
                  SUBQUERY($TYPES, $type, $registeredType UTI-CONFORMS-TO $type).@count &gt; 0
                  AND SUBQUERY($REJECTED_TYPES, $rejectedType, $registeredType UTI-CONFORMS-TO $rejectedType).@count == 0).@count &gt; 0).@count &gt;= $extensionItem.attachments.@count).@count == 1                   </string>
	<key>GENERIC_ENFORCE_ANY_TYPE</key>
	<string>SUBQUERY(extensionItems, $extensionItem,
         SUBQUERY($extensionItem.attachments, $attachment,
                  (SUBQUERY($TYPES, $type,
                   ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO $type).@count &gt; 0)).@count &gt;0).@count == 1</string>
	<key>GENERIC_ENFORCE_ANY_TYPE_WITH_EXCEPTIONS</key>
	<string>SUBQUERY(extensionItems, $extensionItem,
         SUBQUERY($extensionItem.attachments, $attachment,
         SUBQUERY($attachment.registeredTypeIdentifiers, $registeredType,
                  SUBQUERY($TYPES, $type, $registeredType UTI-CONFORMS-TO $type).@count &gt; 0
                  AND SUBQUERY($REJECTED_TYPES, $rejectedType, $registeredType UTI-CONFORMS-TO $rejectedType).@count == 0).@count &gt; 0).@count &gt; 0).@count == 1</string>
	<key>GENERIC_REJECT_EXCEPT_MULTIPLE_OTHER_TYPES</key>
	<string>SUBQUERY(extensionItems, $extensionItem,
         SUBQUERY($extensionItem.attachments, $attachment,
                  (ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO $TYPE) AND
                  (SUBQUERY($OTHER_TYPES, $otherType,
                   ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO $otherType).@count == 0)).@count == 0).@count == 1</string>
	<key>GENERIC_REJECT_EXCEPT_ONE_OTHER_TYPE</key>
	<string>SUBQUERY(extensionItems, $extensionItem,
         SUBQUERY($extensionItem.attachments, $attachment,
                  (ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO $TYPE)
                  AND NOT (ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO $OTHER_TYPE)).@count == 0).@count == 1</string>
	<key>RULES</key>
	<dict>
		<key>NSExtensionActivationSupportsAttachmentsWithMaxCount</key>
		<string>SUBQUERY(extensionItems, $extensionItem, $extensionItem.attachments.@count &lt;= $SPECIFIED_COUNT).@count == 1</string>
		<key>NSExtensionActivationSupportsAttachmentsWithMinCount</key>
		<string>SUBQUERY(extensionItems, $extensionItem, $extensionItem.attachments.@count &gt;= $SPECIFIED_COUNT).@count == 1</string>
		<key>NSExtensionActivationSupportsFileWithMaxCount</key>
		<dict>
			<key>NSExtensionActivationSupportsImageWithMaxCount</key>
			<dict>
				<key>TYPE</key>
				<string>public.image</string>
			</dict>
			<key>NSExtensionActivationSupportsMovieWithMaxCount</key>
			<dict>
				<key>TYPE</key>
				<string>public.movie</string>
			</dict>
			<key>NSExtensionActivationSupportsText</key>
			<dict>
				<key>ACCEPT</key>
				<string>TRUEPREDICATE</string>
				<key>REJECT</key>
				<string>(SUBQUERY(extensionItems, $extensionItem, $extensionItem.contentText == NULL).@count == 1) AND (SUBQUERY(extensionItems, $extensionItem, SUBQUERY($extensionItem.attachments, $attachment, ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO "public.text").@count == 0).@count == 1)</string>
				<key>TYPES</key>
				<array>
					<string>public.plain-text</string>
					<string>public.rtf</string>
				</array>
			</dict>
			<key>TYPE</key>
			<string>public.file-url</string>
		</dict>
		<key>NSExtensionActivationSupportsWebPageWithMaxCount</key>
		<dict>
			<key>TYPE</key>
			<string>com.apple.active-webpage</string>
		</dict>
		<key>NSExtensionActivationSupportsWebURLWithMaxCount</key>
		<dict>
			<key>ACCEPT</key>
			<string>SUBQUERY(extensionItems, $extensionItem,
         SUBQUERY($extensionItem.attachments, $attachment, (ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO "public.url")
                                                            AND (NONE $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO "com.apple.active-webpage")
                                                            AND (NONE $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO "public.file-url")).@count
         &lt;= $SPECIFIED_COUNT).@count == 1</string>
			<key>EXCEPT_TYPES</key>
			<array>
				<string>public.file-url</string>
			</array>
			<key>REJECT</key>
			<string>SUBQUERY(extensionItems, $extensionItem,
         SUBQUERY($extensionItem.attachments, $attachment, (ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO "public.url")
                                                            AND (NONE $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO "com.apple.active-webpage")
                                                            AND (NONE $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO "public.file-url")).@count
         == 0).@count == 1</string>
			<key>TYPE</key>
			<string>public.url</string>
		</dict>
	</dict>
</dict>
</plist>
